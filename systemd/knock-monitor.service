[Unit]
Description=Knock-Knock SSH Honeypot and Monitor
After=network.target redis-server.service

[Service]
User=root
WorkingDirectory=/root/knock-knock
ExecStart=/bin/bash -c '/root/knock-knock/.venv/bin/python -u honeypot.py 2>&1 | /root/knock-knock/.venv/bin/python -u monitor.py'
# Add --save-knocks to store individual knock records in SQLite
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
